
<p align="center">
 <a href="./README.md">
English
 </a>
</p>

# فورواردر لینک دلخواه به هر آدرس دلخواهی (Nginx + PHP + SSL)

یک پروکسی معکوس سبک برای فوروارد کردن لینک دلخواه از طریق دامنه سفارشی شما با HTTPS — با استفاده از Nginx، PHP و Certbot.

## 🔧 نصب با یک خط فرمان

```bash
bash <(curl -sSL https://raw.githubusercontent.com/ach1992/Any-Link-Forwarder/main/anyforwarder.sh) install
```

---

## 🚀 دستورات CLI

پس از نصب اسکریپت، می‌توانید فورواردر را با استفاده از دستور زیر مدیریت کنید:

```bash
anyforwarder
```

## 🧩 راهنمای دستورات CLI

| دستور | توضیحات |
|---------|-------------|
| `anyforwarder add` | یک فورواردر جدید اضافه می‌کند. برای دامنه، پنل هدف و پورت شنود سؤال می‌پرسد. گواهی SSL صادر می‌کند و پیکربندی Nginx را تنظیم می‌کند. **نیاز به `sudo` برای اجرا دارد.** |
| `anyforwarder list` | تمام دامنه‌های فعال فعلی (نمونه‌ها) مدیریت‌شده توسط MarzForwarder را فهرست می‌کند. |
| `anyforwarder remove <domain>` | فورواردر برای دامنه مشخص‌شده را حذف می‌کند، شامل پیکربندی Nginx، گواهی و فایل‌های نمونه آن. |
| `anyforwarder renew-cert` | تمام گواهی‌های SSL را به صورت دستی از طریق Certbot تمدید می‌کند و Nginx را مجدداً بارگذاری می‌کند. |
| `anyforwarder uninstall` | تمام دامنه‌ها، گواهی‌ها، دستور CLI و خدمات تمدید خودکار systemd را به طور کامل حذف می‌کند. بسته‌های Nginx، PHP یا Certbot را حذف نمی‌کند. |
| `anyforwarder install` | 📌 *(فقط در زمان تنظیم اولیه استفاده می‌شود)* وابستگی‌ها را نصب می‌کند، تمدید خودکار را تنظیم می‌کند و شما را برای اضافه کردن اولین دامنه راهنمایی می‌کند. |
| `anyforwarder status` | وضعیت Nginx، PHP-FPM، تایمر تمدید Certbot و فورواردرهای فعال را نمایش می‌دهد. |

## ⚙️ الزامات

برای استفاده از این فورواردر لینک، مطمئن شوید سیستم شما الزامات زیر را برآورده می‌کند:

### ✅ سازگاری سیستم

- سیستم لینوکس مبتنی بر دبیان (توصیه‌شده):
  - **اوبونتو** 20.04 / 22.04 / 24.04
  - **دبیان** 10 (Buster)، 11 (Bullseye)، 12 (Bookworm)

- در اکثر محیط‌های سرور کار می‌کند:
  - ✅ سرورهای مجازی خصوصی (VPS)
  - ✅ نمونه‌های KVM / QEMU
  - ✅ کانتینرهای LXC (با شبکه کامل)
  - ✅ نمونه‌های مبتنی بر ابر (مانند Hetzner، Contabo، DigitalOcean)
  - ✅ VMها و کانتینرهای Proxmox
  - ✅ روی **WSL2** کار می‌کند (فقط برای اهداف آزمایشی)

### 📦 بسته‌های مورد نیاز (به طور خودکار نصب می‌شوند)

- `nginx`
- `php` (>= 7.4)
- `php-fpm`
- `php-curl`
- `curl`
- `certbot` (کلاینت Let's Encrypt)
- `python3-certbot-nginx`
- `unzip` (اختیاری، برای مدیریت فایل‌ها)

### 🌐 الزامات شبکه

- دامنه شما (مانند `forward.yourdomain.com`) باید:
  - به IP VPS اشاره کند (از طریق رکورد A)
  - از طریق Cloudflare یا DNS دیگر مدیریت شود (✅ با ابر خاموش کار می‌کند)

- پورت‌های **80** (برای چالش HTTP-01 Certbot) و پورت شنود انتخاب‌شده شما (مانند 443، 8443) باید:
  - باز و از اینترنت عمومی قابل دسترسی باشند
  - توسط هیچ سرویس وب دیگری روی پورت شنود انتخاب‌شده استفاده نشوند

### 🔐 SSL/TLS

- اسکریپت از Let's Encrypt (از طریق `certbot`) برای صدور گواهی‌های HTTPS معتبر استفاده می‌کند.
- گواهی‌ها هر 60 روز از طریق `تایمر systemd` به طور خودکار تمدید می‌شوند.

### 📦 ذخیره‌سازی و منابع

- حداقل: 1000 مگابایت فضای دیسک آزاد
- حداقل: 512 مگابایت RAM (توصیه‌شده)
